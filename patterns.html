<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Patterns, Holes, and Binding Types
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="A library used to parse and transform structured text"/>
    <meta name="author" content="Andrew Stevenson"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/FSharp.Text.Experimental.Transform/content/style.css" />
    <script type="text/javascript" src="/FSharp.Text.Experimental.Transform/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/aastevenson/FSharp.Text.Experimental.Transform">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/FSharp.Text.Experimental.Transform/index.html">FSharp.Text.Experimental.Transform</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Patterns-Holes-and-Binding-Types" class="anchor" href="#Patterns-Holes-and-Binding-Types">Patterns, Holes, and Binding Types</a></h1>
<p>Static parameters for provided methods, an F# language feature introduced in F# 4.0, is used
extensively in this library to express and enforce well-formed text patterns. Wellformedness
is determined by the input grammar, for example if the grammar contains the production <strong>Val: Int | Stringlit</strong>
then some well-formed values for <em>Val</em> are <code>38</code>, <code>"abc"</code>, <code>-3</code>, <code>""</code> (any integer or string literal),
and some malformed values are <code>38.0</code>, <code>abc</code>, <code>3-</code> etc. (any values that are not integers or string
literals). When such values are supplied as static parameters to provided methods, the type provider can
determine whether they are well-formed or not at <em>compile-time</em>.</p>
<p>We will use the JSON grammar from <a href="tutorial.html">the tutorial</a> to demonstrate the concept of
<a href="#Patterns">patterns</a>, <a href="#Holes">holes</a>, and <a href="#Binding-types">binding types</a>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">FSharp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="i">Text</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="i">Experimental</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="i">Transform</span>

[&lt;<span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="t">Literal</span>&gt;]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="i">grammar</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">    Program     :   Value;</span>
<span class="s">    Value       :   Stringlit</span>
<span class="s">                |   Num</span>
<span class="s">                |   Object;</span>
<span class="s">    Object      :   &#39;{&#39; KeyValue,* &#39;}&#39;;</span>
<span class="s">    KeyValue    :   Stringlit &#39;:&#39; Value;</span>
<span class="s">&quot;&quot;&quot;</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="t">Json</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 8)" onmouseover="showTip(event, 'fs8', 8)" class="t">GrammarProvider</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs6', 9)" onmouseover="showTip(event, 'fs6', 9)" class="i">grammar</span><span class="o">&gt;</span>
</code></pre></td>
</tr>
</table>
<h2><a name="Patterns" class="anchor" href="#Patterns">Patterns</a></h2>
<p>We demonstrate the use of patterns using the <a href="api.html#TryMatch">TryMatch method</a>, typically used inside
a transformation function. For example, here is a function that tries to match a key-value pair
with key <code>"size"</code> and value <code>500</code>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs9', 10)" onmouseover="showTip(event, 'fs9', 10)" class="f">size500</span> (<span onmouseout="hideTip(event, 'fs10', 11)" onmouseover="showTip(event, 'fs10', 11)" class="i">inp</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs7', 12)" onmouseover="showTip(event, 'fs7', 12)" class="i">Json</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 13)" onmouseover="showTip(event, 'fs11', 13)" class="t">KeyValue</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 14)" onmouseover="showTip(event, 'fs10', 14)" class="i">inp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs12', 15)" onmouseover="showTip(event, 'fs12', 15)" class="f">TryMatch</span><span class="o">&lt;</span><span class="s">&quot;&quot;&quot; &quot;size&quot; : 500 &quot;&quot;&quot;</span><span class="o">&gt;</span>()
</code></pre></td>
</tr>
</table>
<p>And here is a function that tries to match an Object with a several key-value pairs:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 16)" onmouseover="showTip(event, 'fs13', 16)" class="f">circleWithRadius10</span> (<span onmouseout="hideTip(event, 'fs14', 17)" onmouseover="showTip(event, 'fs14', 17)" class="i">inp</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs7', 18)" onmouseover="showTip(event, 'fs7', 18)" class="i">Json</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 19)" onmouseover="showTip(event, 'fs11', 19)" class="t">Object</span>) <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs14', 20)" onmouseover="showTip(event, 'fs14', 20)" class="i">inp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs15', 21)" onmouseover="showTip(event, 'fs15', 21)" class="f">TryMatch</span><span class="o">&lt;</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        {</span>
<span class="s">            &quot;shape&quot; : &quot;circle&quot;,</span>
<span class="s">            &quot;radius&quot; : 10 </span>
<span class="s">        } </span>
<span class="s">    &quot;&quot;&quot;</span><span class="o">&gt;</span>()
</code></pre></td>
</tr>
</table>
<p>The type provider checks these patterns against the given grammar nonterminal defintions and raises a
compile error if they cannot be parsed as the appropriate nonterminal (KeyValue or Object, respectively).</p>
<h2><a name="Holes" class="anchor" href="#Holes">Holes</a></h2>
<p>The patterns shown in the previous section have every part of them specified concretely, but the real power of
patterns comes from the abliity to leave "holes" in them. Holes are specified by a name and type
separated by a dollar sign (<code>$</code>).</p>
<p>[<strong><em>name</em></strong>]<tt>$</tt><strong><em>Nonterminal</em></strong>[<strong><tt>?</tt></strong>|<strong><tt>*</tt></strong>|<strong><tt>+</tt></strong>|<strong><tt>,*</tt></strong>|<strong><tt>,+</tt></strong>]</p>
<ul>
<li>
<em>name</em> is an identifier to which a subtree will be bound, similar to how the F# <code>let</code> keyword is
used to bind a value to a name. Omitting <em>name</em> represents an anonymous hole, similar to an
anonymous variable in F#.
</li>
<li><em>Nonterminal</em> is the name of a nonterminal in the grammar, representing (along with any modifiers) the hole type.</li>
<li>The modifier <code>?</code>, <code>*</code>, <code>+</code>, <code>,*</code>, or <code>,+</code> can be applied to <em>Nonterminal</em> to modify the hole type.</li>
</ul>
<p>For example, consider the <code>size500</code> function above with a hole named "sizeValue" instead of the value <code>500</code>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs16', 22)" onmouseover="showTip(event, 'fs16', 22)" class="f">sizeNum</span> (<span onmouseout="hideTip(event, 'fs10', 23)" onmouseover="showTip(event, 'fs10', 23)" class="i">inp</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs7', 24)" onmouseover="showTip(event, 'fs7', 24)" class="i">Json</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 25)" onmouseover="showTip(event, 'fs11', 25)" class="t">KeyValue</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 26)" onmouseover="showTip(event, 'fs10', 26)" class="i">inp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs12', 27)" onmouseover="showTip(event, 'fs12', 27)" class="f">TryMatch</span><span class="o">&lt;</span><span class="s">&quot;&quot;&quot; &quot;size&quot; : sizeValue$Num &quot;&quot;&quot;</span><span class="o">&gt;</span>()
</code></pre></td>
</tr>
</table>
<p>The <code>sizeNum</code> function above will only match key-value pairs when the key is "size" and the value is some number,
but the hole type can be changed to match not just numbers but any JSON value:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs17', 28)" onmouseover="showTip(event, 'fs17', 28)" class="f">sizeValue</span> (<span onmouseout="hideTip(event, 'fs10', 29)" onmouseover="showTip(event, 'fs10', 29)" class="i">inp</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs7', 30)" onmouseover="showTip(event, 'fs7', 30)" class="i">Json</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 31)" onmouseover="showTip(event, 'fs11', 31)" class="t">KeyValue</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 32)" onmouseover="showTip(event, 'fs10', 32)" class="i">inp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs12', 33)" onmouseover="showTip(event, 'fs12', 33)" class="f">TryMatch</span><span class="o">&lt;</span><span class="s">&quot;&quot;&quot; &quot;size&quot; : sizeValue$Value &quot;&quot;&quot;</span><span class="o">&gt;</span>()
</code></pre></td>
</tr>
</table>
<p>Below is a pattern that combines named holes and anonymous holes. It matches a JSON object with exactly 3 properties:</p>
<ol>
<li>A property named "topic" with a string literal value.</li>
<li>A property named "subtopics" whose value is a JSON object with any number of properties.</li>
<li>A property with unknown name but with value 500.</li>
</ol>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 34)" onmouseover="showTip(event, 'fs18', 34)" class="f">topic</span> (<span onmouseout="hideTip(event, 'fs14', 35)" onmouseover="showTip(event, 'fs14', 35)" class="i">inp</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs7', 36)" onmouseover="showTip(event, 'fs7', 36)" class="i">Json</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 37)" onmouseover="showTip(event, 'fs11', 37)" class="t">Object</span>) <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs14', 38)" onmouseover="showTip(event, 'fs14', 38)" class="i">inp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs15', 39)" onmouseover="showTip(event, 'fs15', 39)" class="f">TryMatch</span><span class="o">&lt;</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">        {</span>
<span class="s">            &quot;topic&quot;             : topic$Stringlit,</span>
<span class="s">            &quot;subtopics&quot;         : { $KeyValue,* },</span>
<span class="s">            thirdProp$Stringlit : 500</span>
<span class="s">        } </span>
<span class="s">    &quot;&quot;&quot;</span><span class="o">&gt;</span>()
</code></pre></td>
</tr>
</table>
<p>The above pattern has two named holes (<em>topic</em> and <em>thirdProp</em>) and one anonymous hole of type <em>KeyValue,*</em>.</p>
<p>It's possible for two or more holes to share the same name in a pattern. In this case, a successful match means
the first hole binds a subtree to the name, and the other holes with the same name must match that subtree.
This is used when two or more pattern elements should be the same. For example, we can match a key-value pair
where the key and the value are the same thing:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs19', 40)" onmouseover="showTip(event, 'fs19', 40)" class="f">sameKeyValue</span> (<span onmouseout="hideTip(event, 'fs10', 41)" onmouseover="showTip(event, 'fs10', 41)" class="i">inp</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs7', 42)" onmouseover="showTip(event, 'fs7', 42)" class="i">Json</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 43)" onmouseover="showTip(event, 'fs11', 43)" class="t">KeyValue</span>) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 44)" onmouseover="showTip(event, 'fs10', 44)" class="i">inp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs12', 45)" onmouseover="showTip(event, 'fs12', 45)" class="f">TryMatch</span><span class="o">&lt;</span><span class="s">&quot;&quot;&quot; x$Stringlit : x$Stringlit &quot;&quot;&quot;</span><span class="o">&gt;</span>()
</code></pre></td>
</tr>
</table>
<p>Holes with the same name must also have the same type.</p>
<p>There are 3 methods in the <a href="api.html">API</a> for this library that use patterns with named holes as described above:
<a href="api.html#TryMatch">TryMatch</a>, <a href="api.html#TryFind">TryFind</a>, and <a href="api.html#TryAllMatching">FindAllMatching</a>. However
there is one other method, <a href="api.html#Construct">Construct</a>, that allows only anonymous holes in its pattern. These
anonymous holes mark places in the pattern that can be filled in by the method's arguments, similar to how F#'s
<code>printfn</code> function uses '%' markers in a string pattern to identify places that can be filled in by its arguments.</p>
<p>The process of matching a pattern and binding pattern subparts to names is known as
<a href="https://en.wikipedia.org/wiki/Unification_(computer_science)">unification</a>, and should already be familiar to
F# programmers because it is used for
<a href="https://msdn.microsoft.com/en-us/library/dd547125.aspx">F# pattern matching</a> and
<a href="https://msdn.microsoft.com/en-us/library/dd233180.aspx">F# type inference</a>.</p>
<h2><a name="Binding-types" class="anchor" href="#Binding-types">Binding types</a></h2>
<p>In the previous section we introduced <em>named holes</em> as a way to indicate pattern subtrees of interest. Binding
types capture the bindings between hole values and their names, allowing one to access the value of a pattern
hole match by its name. The type provider emits a binding type for each pattern, and each member of the binding
type corresponds to a named hole in that pattern. The <code>TryMatch()</code> method returns a value of type
<em>BindingType option</em>, either <code>Some(bindingType)</code> if the match is successful or <code>None</code> if it is not.</p>
<p>Here is the <code>topic</code> function from above but with the returned binding type (variable <code>b</code>) in use. Notice the
hole named <em>topic</em> can be accessed with <code>b.Topic</code> and the hole named <em>thirdProp</em> can be accessed with
<code>b.ThirdProp</code>.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs20', 46)" onmouseover="showTip(event, 'fs20', 46)" class="f">topic&#39;</span> (<span onmouseout="hideTip(event, 'fs14', 47)" onmouseover="showTip(event, 'fs14', 47)" class="i">inp</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs7', 48)" onmouseover="showTip(event, 'fs7', 48)" class="i">Json</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 49)" onmouseover="showTip(event, 'fs11', 49)" class="t">Object</span>) <span class="o">=</span> 
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs21', 50)" onmouseover="showTip(event, 'fs21', 50)" class="i">matchResult</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs14', 51)" onmouseover="showTip(event, 'fs14', 51)" class="i">inp</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs15', 52)" onmouseover="showTip(event, 'fs15', 52)" class="f">TryMatch</span><span class="o">&lt;</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">            {</span>
<span class="s">                &quot;topic&quot;             : topic$Stringlit,</span>
<span class="s">                &quot;subtopics&quot;         : { $KeyValue,* },</span>
<span class="s">                thirdProp$Stringlit : 500</span>
<span class="s">            } </span>
<span class="s">        &quot;&quot;&quot;</span><span class="o">&gt;</span>()
    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs21', 53)" onmouseover="showTip(event, 'fs21', 53)" class="i">matchResult</span> <span class="k">with</span>
    | <span onmouseout="hideTip(event, 'fs22', 54)" onmouseover="showTip(event, 'fs22', 54)" class="p">Some</span> <span onmouseout="hideTip(event, 'fs23', 55)" onmouseover="showTip(event, 'fs23', 55)" class="i">b</span> <span class="k">-&gt;</span> 
        <span onmouseout="hideTip(event, 'fs24', 56)" onmouseover="showTip(event, 'fs24', 56)" class="f">printfn</span> <span class="s">&quot;&#39;topic&#39; is bound to </span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs23', 57)" onmouseover="showTip(event, 'fs23', 57)" class="i">b</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs25', 58)" onmouseover="showTip(event, 'fs25', 58)" class="i">Topic</span>            <span class="c">// access hole named &#39;topic&#39;</span>
        <span onmouseout="hideTip(event, 'fs24', 59)" onmouseover="showTip(event, 'fs24', 59)" class="f">printfn</span> <span class="s">&quot;&#39;thirdProp&#39; is bound to </span><span class="pf">%A</span><span class="s">&quot;</span> <span onmouseout="hideTip(event, 'fs23', 60)" onmouseover="showTip(event, 'fs23', 60)" class="i">b</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 61)" onmouseover="showTip(event, 'fs26', 61)" class="i">ThirdProp</span>    <span class="c">// access hole named &#39;thirdProp&#39;</span>
    | <span onmouseout="hideTip(event, 'fs27', 62)" onmouseover="showTip(event, 'fs27', 62)" class="p">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs24', 63)" onmouseover="showTip(event, 'fs24', 63)" class="f">printfn</span> <span class="s">&quot;No match found&quot;</span>
</code></pre></td>
</tr>
</table>
<p>A more typical use of binding type members is feeding them into the arguments of the <a href="api.html#Construct">Construct</a>
method. A transformation function will typically extract grammatical structures of interest with the
<code>TryMatch</code>, <code>TryFind</code>, or <code>FindAllMatching</code> methods, and then build a replacement by combining those
structures with the <code>Construct</code> method. An example of this is apparent in the <a href="tutorial.html">tutorial</a>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs28', 64)" onmouseover="showTip(event, 'fs28', 64)" class="f">addDefault</span> (<span onmouseout="hideTip(event, 'fs29', 65)" onmouseover="showTip(event, 'fs29', 65)" class="i">inp</span><span class="o">:</span> <span onmouseout="hideTip(event, 'fs7', 66)" onmouseover="showTip(event, 'fs7', 66)" class="i">Json</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 67)" onmouseover="showTip(event, 'fs11', 67)" class="i">Value</span>) <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs29', 68)" onmouseover="showTip(event, 'fs29', 68)" class="i">inp</span><span class="o">.</span><span class="i">TryMatch</span><span class="o">&lt;</span><span class="s">&quot;stringValue$Stringlit&quot;</span><span class="o">&gt;</span>()     <span class="c">// target only Values that are string literals</span>
    <span class="o">|&gt;</span> <span class="k">function</span>
        | <span onmouseout="hideTip(event, 'fs22', 69)" onmouseover="showTip(event, 'fs22', 69)" class="p">Some</span> <span onmouseout="hideTip(event, 'fs30', 70)" onmouseover="showTip(event, 'fs30', 70)" class="i">b</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs7', 71)" onmouseover="showTip(event, 'fs7', 71)" class="i">Json</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 72)" onmouseover="showTip(event, 'fs11', 72)" class="i">Value</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs11', 73)" onmouseover="showTip(event, 'fs11', 73)" class="i">Construct</span><span class="o">&lt;</span><span class="s">&quot;&quot;&quot; { &quot;value&quot; : $Stringlit, &quot;default&quot; : &quot;&quot; } &quot;&quot;&quot;</span><span class="o">&gt;</span>(<span onmouseout="hideTip(event, 'fs30', 74)" onmouseover="showTip(event, 'fs30', 74)" class="i">b</span><span class="o">.</span><span class="i">StringValue</span>)
        | <span onmouseout="hideTip(event, 'fs27', 75)" onmouseover="showTip(event, 'fs27', 75)" class="p">None</span>   <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs29', 76)" onmouseover="showTip(event, 'fs29', 76)" class="i">inp</span>
</code></pre></td>
</tr>
</table>

<div class="tip" id="fs1">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="tip" id="fs2">namespace FSharp.Text</div>
<div class="tip" id="fs3">namespace FSharp.Text.Experimental</div>
<div class="tip" id="fs4">namespace FSharp.Text.Experimental.Transform</div>
<div class="tip" id="fs5">Multiple items<br />type LiteralAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; LiteralAttribute<br /><br />Full name: Microsoft.FSharp.Core.LiteralAttribute<br /><br />--------------------<br />new : unit -&gt; LiteralAttribute</div>
<div class="tip" id="fs6">val grammar : string<br /><br />Full name: Patterns.grammar</div>
<div class="tip" id="fs7">type Json = GrammarProvider&lt;...&gt;<br /><br />Full name: Patterns.Json</div>
<div class="tip" id="fs8">type GrammarProvider<br /><br />Full name: FSharp.Text.Experimental.Transform.GrammarProvider</div>
<div class="tip" id="fs9">val size500 : inp:GrammarProvider&lt;...&gt;.KeyValue -&gt; Option&lt;GrammarProvider&lt;...&gt;.BindingTypes.BindingType1&gt;<br /><br />Full name: Patterns.size500</div>
<div class="tip" id="fs10">val inp : GrammarProvider&lt;...&gt;.KeyValue</div>
<div class="tip" id="fs11"></div>
<div class="tip" id="fs12">GrammarProvider&lt;...&gt;.KeyValue.TryMatch() : Option&lt;GrammarTypeMethods.BindingType&gt;<br /><em><br /><br />&lt;summary&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;para&gt;Tries to match this object with a parse pattern. The parse pattern is specified by a static string parameter that <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;must be a valid &#39;KeyValue&#39;. This pattern may contain wildcards of the form var$Type where &#39;var&#39; is a variable<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;identifier and &#39;Type&#39; is a grammar nonterminal or token class. If a match is found, the pattern is unified with this<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;object&#39;s parse tree and each wildcard variable will be bound to its corresponding subtree. Anonymous variables are<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;specified by omitting the variable identifier (e.g. $Type).&lt;/para&gt;<br /><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;para&gt;Returns Some(BindingType) if a match exists, otherwise returns None. The BindingType class gives access to <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;wildcard variables bound in the pattern.&lt;/para&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;para&gt;Sample use:&lt;/para&gt;<br /><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;para&gt;match myKeyValue.TryMatch&amp;lt;&quot;$KeyValue&quot;&amp;gt;() with &lt;/para&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;para&gt;| Some b -&amp;gt; printfn &quot;Match found&quot; &lt;/para&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;para&gt;| None -&amp;gt; printfn &quot;No match&quot; &lt;/para&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/summary&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</em></div>
<div class="tip" id="fs13">val circleWithRadius10 : inp:GrammarProvider&lt;...&gt;.Object -&gt; Option&lt;GrammarProvider&lt;...&gt;.BindingTypes.BindingType2&gt;<br /><br />Full name: Patterns.circleWithRadius10</div>
<div class="tip" id="fs14">val inp : GrammarProvider&lt;...&gt;.Object</div>
<div class="tip" id="fs15">GrammarProvider&lt;...&gt;.Object.TryMatch() : Option&lt;GrammarTypeMethods.BindingType&gt;<br /><em><br /><br />&lt;summary&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;para&gt;Tries to match this object with a parse pattern. The parse pattern is specified by a static string parameter that <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;must be a valid &#39;Object&#39;. This pattern may contain wildcards of the form var$Type where &#39;var&#39; is a variable<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;identifier and &#39;Type&#39; is a grammar nonterminal or token class. If a match is found, the pattern is unified with this<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;object&#39;s parse tree and each wildcard variable will be bound to its corresponding subtree. Anonymous variables are<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;specified by omitting the variable identifier (e.g. $Type).&lt;/para&gt;<br /><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;para&gt;Returns Some(BindingType) if a match exists, otherwise returns None. The BindingType class gives access to <br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;wildcard variables bound in the pattern.&lt;/para&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;para&gt;Sample use:&lt;/para&gt;<br /><br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;para&gt;match myObject.TryMatch&amp;lt;&quot;$Object&quot;&amp;gt;() with &lt;/para&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;para&gt;| Some b -&amp;gt; printfn &quot;Match found&quot; &lt;/para&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;para&gt;| None -&amp;gt; printfn &quot;No match&quot; &lt;/para&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;/summary&gt;<br />&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</em></div>
<div class="tip" id="fs16">val sizeNum : inp:GrammarProvider&lt;...&gt;.KeyValue -&gt; Option&lt;GrammarProvider&lt;...&gt;.BindingTypes.BindingType3&gt;<br /><br />Full name: Patterns.sizeNum</div>
<div class="tip" id="fs17">val sizeValue : inp:GrammarProvider&lt;...&gt;.KeyValue -&gt; Option&lt;GrammarProvider&lt;...&gt;.BindingTypes.BindingType4&gt;<br /><br />Full name: Patterns.sizeValue</div>
<div class="tip" id="fs18">val topic : inp:GrammarProvider&lt;...&gt;.Object -&gt; Option&lt;GrammarProvider&lt;...&gt;.BindingTypes.BindingType5&gt;<br /><br />Full name: Patterns.topic</div>
<div class="tip" id="fs19">val sameKeyValue : inp:GrammarProvider&lt;...&gt;.KeyValue -&gt; Option&lt;GrammarProvider&lt;...&gt;.BindingTypes.BindingType6&gt;<br /><br />Full name: Patterns.sameKeyValue</div>
<div class="tip" id="fs20">val topic&#39; : inp:GrammarProvider&lt;...&gt;.Object -&gt; unit<br /><br />Full name: Patterns.topic&#39;</div>
<div class="tip" id="fs21">val matchResult : Option&lt;GrammarProvider&lt;...&gt;.BindingTypes.BindingType7&gt;</div>
<div class="tip" id="fs22">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs23">val b : GrammarProvider&lt;...&gt;.BindingTypes.BindingType7</div>
<div class="tip" id="fs24">val printfn : format:Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Core.ExtraTopLevelOperators.printfn</div>
<div class="tip" id="fs25">property GrammarProvider&lt;...&gt;.BindingTypes.BindingType7.Topic: GrammarProvider&lt;...&gt;.Stringlit</div>
<div class="tip" id="fs26">property GrammarProvider&lt;...&gt;.BindingTypes.BindingType7.ThirdProp: GrammarProvider&lt;...&gt;.Stringlit</div>
<div class="tip" id="fs27">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs28">val addDefault : inp:&#39;a -&gt; &#39;a<br /><br />Full name: Patterns.addDefault</div>
<div class="tip" id="fs29">val inp : &#39;a</div>
<div class="tip" id="fs30">val b : obj</div>

        </div>
        <div class="span3">
          <img src="/FSharp.Text.Experimental.Transform/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">FSharp.Text.Experimental.Transform</li>
            <li><a href="/FSharp.Text.Experimental.Transform/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/FSharp.Text.Experimental.Transform">Get Library via NuGet</a></li>
            <li><a href="http://github.com/aastevenson/FSharp.Text.Experimental.Transform">Source Code on GitHub</a></li>
            <li><a href="/FSharp.Text.Experimental.Transform/license.html">License</a></li>
            <li><a href="/FSharp.Text.Experimental.Transform/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/FSharp.Text.Experimental.Transform/tutorial.html">Sample tutorial</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="/FSharp.Text.Experimental.Transform/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/aastevenson/FSharp.Text.Experimental.Transform"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
